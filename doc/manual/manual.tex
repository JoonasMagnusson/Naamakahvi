\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{longtable}
\usepackage{float}
\usepackage{wrapfig}
\usepackage{soul}
\usepackage{amssymb}
\usepackage{hyperref}


\title{Manual\\
  Software Engineering Project Course\\
  Naamakahvi\\
  University of Helsinki}

\author{Antti Hietasaari
  \and Joonas Magnusson
  \and Irina Mäkipaja
  \and Samir Puuska
  \and Janne Ronkonen
  \and Eeva Terkki
  \and Ossi Väre}
\date{\today}

\begin{document}

\maketitle

\setcounter{tocdepth}{2}
\tableofcontents
% \vspace*{1cm}



\section{Android}
\subsection{Getting started}
\subsubsection*{Configuring program settings}
First after launching a program it prompts you for a server address and port. After getting them it will give you a list of station. Pick the station that is your coffee room. You don’t have to give this information every time the program is started, only the first time. After that the program will automatically use the settings you defined the first time you used the program.

\subsubsection*{Changing program settings}

If you want to change the settings that were configured the first time, go to “Settings” in your android device, click on “Apps” and choose Facecafe client. You should get a small info page and in the middle of it should be a button labelled “Clear data”. Click the button and after that you should be able to give settings again when launching a program.


\subsection{Registering into system}

Once the first time in the main window you might want to register yourself into a system in order to buy coffee. Click the “New user” button that resides in the down right corner of the screen. The opening screen asks you for a username, first name and last name. Fill in the information, all fields are mandatory for a successful registration (though it does not matter whether you have forgot to fill in a field because the program will prompt you for missing information).

If you want to register without face recognition click the OK button and you are done with registering. If you want to register with face recognition you must take 6 pictures of your face. On the right hand side of the screen there is a preview of camera. Adjust your face until there is a green box around it. The green box means the program has found your face. Once your face is detected touch the camera preview to take a picture. If you succeed the picture should be displayed in the center of the left hand side of the screen. If you think the picture wasn’t good enough you can delete it by clicking it and take another one. Once done with your pictures click the OK button.

\subsection{Buying products}

\subsubsection*{Buying with face recognition}
On the main screen there is a list of buyable products on the left hand side of the screen. You choose what you want to buy and click on the quantity you want to by on the list (for example if you want 2 times espresso you click on the number two on the espresso row).

When the face detecting screen appears, move your head slowly to find the position where a green box appears around your face. That means the camera has recognized your face as a face. If the recognizion is succesful you will get to your saldo page. Saldo page shows your saldo and what you bought. In order to complete your payment push the Confirm button. To cancel your purchase press Cancel. If the program has recognized you incorrectly push the userlist button to get to userlist where you can choose your correct name from the list.

If you don’t do anything in the saldo screen for 30 seconds the purchase will be automatically cancelled and the screen goes back to main screen.

\subsubsection*{Buying with face recognition}
On the main screen there is a list of buyable products on the left hand side of the screen. You choose what you want to buy and click on the quantity you want to by on the list (for example if you want 2 times espresso you click on the number two on the espresso row).

When the face detecting screen appears, move your head slowly to find the position where a green box appears around your face. That means the camera has recognized your face as a face. If the recognizion is succesful you will get to your saldo page. Saldo page shows your saldo and what you bought. In order to complete your payment push the Confirm button. To cancel your purchase press Cancel. If the program has recognized you incorrectly push the userlist button to get to userlist where you can choose your correct name from the list.

If you don’t do anything in the saldo screen for 30 seconds the purchase will be automatically cancelled and the screen goes back to main scree

\subsubsection*{Buying without face recognition}
Buying without face recognition is otherwise the same than buying with face recognition but instead of pressing the amount of what you want to buy once normally you hold the amount button pressed. That should get you into a userlist where you should be able to pick your username. After this you get to saldo page and everything is the same than in buying with face recognition

\subsection{Paying by bringing products}

On the up right corner of the main screen is the Bring Products button. Press it and you get the same kind of list that you get when buying products. You can get back to buyable products list by pressing the Buy Products button on the up right corner of the screen. The Bring Products list is used exactly the same way than the Buy Products list is used (for further information see 1.3 Buying Products).

\subsection{Adding or deleting photos after registering}

\section{Swing}
\subsection{Getting started}
\subsubsection*{Running the program}
\begin{enumerate}
\item{Download and install OpenCV (www.opencv.org) and 
Java (www.java.com)}
\item{Download or build (see below) swingui.jar}
\item{Use the command line to navigate to the directory where the jar is stored}
\item{Run the program with the command 'java -jar swingui.jar'}
\item{Select the location of the computer from the options shown on the screen.}
\end{enumerate}
There are several command line parameters that can be used with the program:
\begin{itemize}
\item{font:<number> - Sets the program's midsized font to <number>. Defaults to 20, minimum 10.}
\item{cam:<number> - Selects the camera used by the program, if there are multiple 
cameras connected. Defaults to 0.}
\item{ip:<address> - Uses the server at the IP or URL specified by <address> as the server.}
\item{port:<number> - Connects to the port specified by <number> on the server. Defaults to 5001.}
\item{dofacedetect - Turns on active face detection: rectangles are drawn around faces when they
appear in the camera feed. Note that this can be very processor-intentsive.}
\item{nocam - Turns off the camera feed and disables the face detection features of the program
(users can still log in manually with their usernames). Use this parameter if you wish to run the
program in a computer without a connected camera or OpenCV.}
\end{itemize}
For example, the command 'java -jar swingui.jar font:26 cam:1 
ip:www.example.com port:4800 dofacedetect' will launch the program with a 
font-size of 26, using the system's second camera and active face detection, 
and attempt to connect to a Facecafe server at www.example.com:4800.
\subsubsection*{Building the program}
\begin{enumerate}
\item{Download and install Java (www.java.com) and 
Maven (maven.apache.org).}
\item{Download the Facecafe source files.}
\item{Use the command line to navigate to the Naamakahvi/Naamakahvi-parent/swingui/javacv
directory in the Facecafe source folder.}
\item{Run the maven-install-javacv.sh script located in the javacv directory.}
\item{Use the command line to navigate to Naamakavi/Naamakahvi-parent}
\item{Run the command 'mvn clean install'}
\item{The compiled jar file will be located in Naamakahvi/Naamakahvi-parent/swingui/target}
\end{enumerate}
Note: building the program will take several minutes and requires a screen resolution of at
least 640x480 for testing purposes. If you want to speed up the build or don't have access
to a screen with adequate resolution, build the program with 'mvn clean install -Dmaven.test.
skip=true' instead.
\subsection{Registering into system}
\begin{enumerate}
\item{Click the button labeled "New User" on the SwingUI front page.}
\item{Enter your username, given name and family name in the corresponding text boxes.}
\item{Optionally, click the "Take Picture" button to associate your picture with your account.
This allows you to log in using face recognition. Up to 6 pictures can be taken during
registration.}
\item{Click the button labeled "Register" to create your account. If you associated pictures
with your account, it may take up to several minutes to process them. Until then, log in to
the system by clicking "Manual Login" from the front page and choosing your username from
the list.}
\end{enumerate}
\subsection{Buying products}
\subsubsection*{Buying products using face recognition}
\begin{enumerate}
\item{Find the product you wish to buy from the front page. On its right, there are five buttons
with numbers on them. Click the button with the amount you wish to buy. Ex.: if you wish to buy
3 espressos, click the button labeled "3" to the right of the word "Espresso".}
\item{Stand in front of the camera so that you can see your face on the screen.}
\item{Click the "Take Picture" button.}
\item{If you were recognized correctly, click the "OK" button.}
\item{If you were recognized incorrectly but see your username in the list to the left, click
on your username and the click the "OK" button.}
\item{If you were recognized incorrectly and your name is not in the list, click the "User List"
button, select your user name from the list and the click the "OK" button.}
\end{enumerate}
\subsubsection*{Buying products without face recognition}
\begin{enumerate}
\item{On the front page, click the button labeled "Manual Login".}
\item{Find your username from the list and click it.}
\item{Find the product you wish to buy from the user menu. On its right, there are five buttons
with numbers on them. Click the button with the amount you wish to buy. Ex.: if you wish to buy
3 espressos, click the button labeled "3" to the right of the word "Espresso".}
\item{Click the "OK" button.}
\end{enumerate}
\subsubsection*{Buying multiple products at once}
\begin{enumerate}
\item{Click the "Buy Multiple Products" button on the front page or in the user menu.}
\item{If you are using face recognition, log in as explained above.}
\item{Find the product you wish to buy from the right and click on it to add it to your cart.
Click on the button multiple times to add multiple copies of the same product.}
\item{Click the "Buy Selected Products" button.}
\item{Click the "OK" button.}
\end{enumerate}
\subsection{Paying by bringing products}
\begin{enumerate}
\item{Click the "Bring Products" button on the front page or in the user menu.}
\item{If you are using face recognition, log in as explained under "Buying products using
face recognition".}
\item{Find the product you wish to bring from the right and click on it to add it to your cart.
Click on the button multiple times to add multiple copies of the same product.}
\item{Click the "Bring Selected Products" button.}
\item{Click the "OK" button.}
\end{enumerate}
\subsection{Adding or deleting photos after registering}
New photos will automatically replace old ones.
\begin{enumerate}
\item{Click "Add Images to Existing Account" on the front page and log in using face recognition
or log in manually and click "Add Images to Account" in the user menu.}
\item{Stand in front of the camera so that you can see your face on the screen.}
\item{Click the "Take Picture" button to take up to 6 pictures of your face.}
\item{Click the "Add Pictures" button to associate the pictures with your account.}
\end{enumerate}



\end{document}
